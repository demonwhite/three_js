function soundInit(){console.log("sound in init");try{audioContext=new(window.AudioContext||window.webkitAudioContext),loadFile()}catch(t){alert("you need webaudio support"+t)}}function loadFile(){var t=new XMLHttpRequest;t.open("GET","sounds/day.mp3",!0),t.responseType="arraybuffer",t.onload=function(){audioContext.decodeAudioData(t.response,function(t){buf=t,initBuffer()})},t.send()}function initBuffer(){var t=audioContext.createBufferSource();t.buffer=buf,fft=audioContext.createAnalyser(),fft.smoothingTimeConstant=.3,fft.fftSize=samples,t.connect(fft),fft.connect(audioContext.destination),t.start(0),setup=!0}function soundUpdate(){var t=new Uint8Array(samples);fft.getByteFrequencyData(t),console.log(t)}var audioContext,buf,fft,samples=512,setup=!1;window.addEventListener("load",soundInit,!1);